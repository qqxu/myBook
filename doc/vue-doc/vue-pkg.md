### package.json
- 当打包工具遇到pkg.module,优先使用es6模块规范的版本，可启用打包工具的tree-shaking机制
- 如果不识别 pkg.module，就会使用已经编译成CommonJS规范的版本，不会阻碍打包流程

### tree-shaking
利用ES模块的静态导入导出，打包工具处理时，将没有使用的模块代码删除

### 模块化
什么是模块化
- 将程序划分成一个个小的模块
- 每个模块由自己的逻辑代码和作用域
- 可以提供变量、函数、对象给其他模块使用
- 可以导入其他模块，使用导入模块中的相关变量、函数、对象

### 模块化规范
- CommonJS
    - 模块导出内容:每个模块内部module变量代表当前模块，module变量是一个对象，它的exports属性是对外的接口
    - 模块缓存: 第一加载模块时，node会缓存该模块，后续再加载，直接从缓存中读取该模块的module.exports 属性
    - require用于加载模块: require 命令的功能是：读入并执行一个js文件，返回该模块的exports对象。如果没有发现该模块，会报错
    - CommonJS规范加载模块是同步的, 适用nodejs,nodejs主要用于服务器编程，模块文件都在本地硬盘，加载较快，无需考虑非同步方式

- AMD
    - 适用浏览器: 浏览器环境是从服务端加载模块，必须采用非同步的模式，所以浏览器端采用AMD规范
    - 依赖关系前置:定义模块时，就需要声明依赖的模块


- CMD
    - 按需加载依赖
    - 依赖就近

- ES Module
    - 编译时加载，静态加载
    - 每个模块只加载一次，并只执行一次，重复加载同一文件，直接从内存中读取
    - 只支持静态导入和导出，只可以在最外层作用域使用import 和 export




[vue 源码](https://www.jianshu.com/p/557c8c1c250f)